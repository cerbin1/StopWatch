<!DOCTYPE html>
<html lang="pl">
<head>
    <title>Stoper</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body>
<div class="container">
    <div id="timer" class="stopwatch">00:00:00</div>
    <div class="navbar">
        <ul>
            <li id="startPause" onclick="startPause()">Start</li>
            <li id="reset" onclick="reset()">Reset</li>
        </ul>
    </div>

    <p id="here"></p>

    <div class="backButton"><a href="index.html">Back</a></div>
    <div id=""></div>
    <label for="">Minuty<input id="minutes" type="number" value="0"></label>
    <label for="">Sekundy<input id="seconds" type="number" value="0"></label>
    <input type="button" id="CHUJ" onclick="displayNumberToCountdown()" value="Set">

</div>
<script>
    var i;
    var seconds;
    var minutes;
    var hours;
    var time = 0;
    var running = false;
    var isTimeSet = false;
    var dd = 0;

    function displayNumberToCountdown() {
        if (running == false) {
            if (document.getElementById("seconds").value >= 0) {
                isTimeSet = true;
                var seconds = document.getElementById("seconds").value;
                var minutes = (+document.getElementById("minutes").value + Math.floor(seconds / 60)) % 60;
                var hours = Math.floor(document.getElementById("minutes").value / 60);
                var displaySeconds = ":";
                var displayMinutes = ":";
                var displayHours = "";

                if (seconds < 10) {
                    displaySeconds = ":0";
                }
                if (seconds % 60 == 0) {
                    displaySeconds = ":0";
                }
                if (minutes < 10) {
                    displayMinutes = ":0";
                }
                if (hours < 10) {
                    displayHours = "0";
                }

                document.getElementById("timer").innerHTML = displayHours + hours +
                        displayMinutes + minutes + displaySeconds + seconds % 60;
            }
            else {
//                alert("You can't input negative time");
                console.log("nie moze byc ujemnego czasu")
            }
        }
        else {
            console.log("licznik teraz dziala, nie mozna ustawic innego czasu");
        }
    }
    function startPause() {
        if (running) {
            running = false;
            clearInterval(i);
            document.getElementById("startPause").innerHTML = "Resume";
        }
        else {
            running = true;
            decrement();
            document.getElementById("startPause").innerHTML = "Pause";
        }
    }

    /*var running = false;
     var time = 0;
     var milliseconds = 0;
     var seconds = 0;
     var minutes = 0;
     var i;
     function startPause() {
     if (running) {
     running = false;
     clearInterval(i);
     document.getElementById("startPause").innerHTML = "Resume";
     }
     else {
     running = true;
     increment();
     document.getElementById("startPause").innerHTML = "Pause";
     }
     }*/
    function decrement() {
        if (dd == 0) {
            time = +document.getElementById("seconds").value + document.getElementById("minutes").value * 60;
            dupa = time;
            console.log(dupa);
            dd = 1;
        }
        i = setInterval(function () {
            dupa--;

            hours = Math.round(dupa / 3600);
            minutes = Math.round(dupa / 60) % 60;
            seconds = dupa % 60;


            var displaySeconds = ":";
            var displayMinutes = ":";
            var displayHours = "";

            if (seconds < 10) {
                displaySeconds = ":0";
            }
            if (seconds % 60 == 0) {
                displaySeconds = ":0";
            }
            if (minutes < 10) {
                displayMinutes = ":0";
            }
            if (hours < 10) {
                displayHours = "0";
            }

            document.getElementById("timer").innerHTML = displayHours + hours +
                    displayMinutes + minutes + displaySeconds + seconds;
            /*time++;
             milliseconds = time % 100;
             seconds = Math.floor(time / 100) % 60;
             minutes = Math.floor(time / 100 / 60);

             if (minutes < 10) {
             minutes = "0" + minutes;
             }
             if (seconds < 10) {
             seconds = "0" + seconds;
             }*/

        }, 1000);
    }
</script>
</body>
</html>