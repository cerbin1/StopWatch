<!DOCTYPE html>
<html lang="pl">
<head>
    <title>Stopwatch</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body>
<div class="container">
    <div id="timer" class="stopwatch">00:00:00</div>
    <div class="navbar">
        <ul>
            <li id="startPause" onclick="startPause()">Start</li>
            <li id="reset" onclick="reset()">Reset</li>
            <li id="lap" onclick="displayLap()">Lap</li>
            <li id="clear" class="clearLapsButton" onclick="clearLaps()">Clear laps</li>
        </ul>
    </div>


    <div style="text-align: center;" id="outputLaps"></div>

    <div class="backButton"><a href="index.html">Back</a></div>
</div>
<script>
    var running = false;
    var time = 0;
    var numberOfLap = 0;
    var milliseconds = 0;
    var seconds = 0;
    var minutes = 0;
    var i;
    function startPause() {
        if (running) {
            running = false;
            clearInterval(i);
            document.getElementById("startPause").innerHTML = "Resume";
        }
        else {
            running = true;
            increment();
            document.getElementById("startPause").innerHTML = "Pause";
        }
    }

    function addZero(number) {
        if (number < 10) {
            return "0" + number;
        }
        else {
            return number;
        }
    }

    function increment() {
        if (running) {
            i = setInterval(function () {
                time++;
                milliseconds = time % 100;
                seconds = Math.floor(time / 100) % 60;
                minutes = Math.floor(time / 100 / 60);
                document.getElementById("timer").innerHTML = addZero(minutes) + ":" + addZero(seconds) + ":" + addZero(milliseconds);
            }, 10);
        }
    }
    function reset() {
        time = 0;
        milliseconds = 0;
        seconds = 0;
        minutes = 0;
        clearInterval(i);
        running = false;
        document.getElementById("startPause").innerHTML = "Start";
        document.getElementById("timer").innerHTML = "00:00:00";
    }
    function displayLap() {
        numberOfLap++;
        var str = "Number of lap: " + numberOfLap + " time: " + minutes + ":" + seconds + ":0" + milliseconds / 10 + "\n";
        document.getElementById("outputLaps").innerHTML += str + "</br>";
    }


    function clearLaps() {
        numberOfLap = 0;
        document.getElementById("outputLaps").innerHTML = "";
    }
</script>
</body>
</html>